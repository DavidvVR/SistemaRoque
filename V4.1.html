<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SistemaRoque V3.14 - Tarifas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #f5f5f5;
      --panel-bg: #fff;
      --frame-border: #000;
      --text: #222;
      --font: "Segoe UI", Tahoma, sans-serif;
      --input-border: #00b8f4;
      --section-bg: #e8e8e8;
      --tab-bg: #ddd;
      --tab-active: #fff;
      --tab-border: #000;
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body { background: var(--bg); font-family: var(--font); color: var(--text); }
    .hidden { display: none; }
    .frame {
      position: relative;
      margin: 50px auto; padding: 40px 20px 20px; max-width: 820px;
      background: var(--panel-bg);
      border: 4px solid var(--frame-border);
      border-radius: 12px;
    }
    .branding {
      position: absolute;
      top: 10px; right: 10px;
      width: 50px;
      opacity: 0.4;
      pointer-events: none;
    }
    /* clientsModule */
    .clients-menu {
      margin: 0 auto; width: 100%; max-width:760px; background:var(--section-bg);
      border-radius:12px; padding:20px;
    }
    /* Sub-tabs */
    .sub-tabs { display:flex; border-bottom:2px solid var(--tab-border); margin-bottom:16px; }
    .sub-tab {
      padding:8px 16px; cursor:pointer;
      background: var(--tab-bg); border:2px solid var(--tab-border); border-bottom:none;
      margin-right:4px; border-radius:8px 8px 0 0;
    }
    .sub-tab.active { background: var(--tab-active); }
    .sub-content { display:none; }
    .sub-content.active { display:block; }
    .form-group { display:grid; grid-template-columns:200px 1fr; align-items:center; gap:12px; margin:8px 0; }
    h3.section-title { margin-top:16px; font-size:1.1rem; border-bottom:1px solid #000; padding-bottom:4px; }
    .button-row { display:flex; justify-content:center; gap:12px; margin-top:16px; }
    /* Documentation table */
    .doc-table-wrapper { border:2px dashed var(--input-border); padding:12px; }
    table.doc-table { width:100%; border-collapse: collapse; }
    table.doc-table th, table.doc-table td { border:1px solid var(--input-border); padding:8px; text-align:center; }
    table.doc-table th { background:#eee; }
    .icon-btn { cursor:pointer; margin: 0 4px; font-size:1.2rem; }
    .status-no { color: red; font-weight:bold; }
    .status-yes { color: green; font-weight:bold; }
    input[type="file"] { display: none; }
    
    /* Estilos para el modal de tarifas */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.4);
    }
    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 600px;
      border-radius: 8px;
      position: relative;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover {
      color: black;
    }
    .btn {
      padding: 8px 16px;
      margin: 8px 4px;
      border: 2px solid var(--frame-border);
      background: #e5e5e5;
      cursor: pointer;
      font-weight: 700;
      border-radius: 8px;
    }
    .btn-primary {
      background-color: #00b8f4;
      color: white;
    }
    .add-tarifa-btn {
      margin-bottom: 16px;
      background-color: #28a745;
      color: white;
      border: none;
    }
  </style>
</head>
<body>
  <div class="frame">
    <div class="clients-menu">
      <!-- Pesta√±as -->
      <div class="sub-tabs">
        <div class="sub-tab active">Tarifas</div>
      </div>
      
      <!-- Contenido de Tarifas -->
      <div class="sub-content active">
        <button id="addTarifaBtn" class="btn add-tarifa-btn">+Agregar Tarifa/ruta</button>
        <div class="doc-table-wrapper">
          <table class="doc-table">
            <thead>
              <tr>
                <th>Ruta</th>
                <th>Tarifa</th>
                <th>Tiempo estimado</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <!-- Datos de ejemplo -->
              <tr>
                <td>Ciudad A - Ciudad B</td>
                <td>$150.00</td>
                <td>2 horas</td>
                <td class="status-yes">Activa</td>
                <td>
                  <span class="icon-btn" onclick="editarTarifa(this)">‚úèÔ∏è</span>
                  <span class="icon-btn" onclick="eliminarTarifa(this)">üóëÔ∏è</span>
                </td>
              </tr>
              <tr>
                <td>Ciudad C - Ciudad D</td>
                <td>$220.00</td>
                <td>3 horas</td>
                <td class="status-no">Inactiva</td>
                <td>
                  <span class="icon-btn" onclick="editarTarifa(this)">‚úèÔ∏è</span>
                  <span class="icon-btn" onclick="eliminarTarifa(this)">üóëÔ∏è</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para agregar/editar tarifa -->
  <div id="tarifaModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="modalTitle">Agregar Nueva Tarifa/Ruta</h3>
      <form id="tarifaForm">
        <div class="form-group">
          <label for="ruta">Ruta:</label>
          <input type="text" id="ruta" name="ruta" required>
        </div>
        <div class="form-group">
          <label for="tarifa">Tarifa ($):</label>
          <input type="number" id="tarifa" name="tarifa" min="0" step="0.01" required>
        </div>
        <div class="form-group">
          <label for="tiempo">Tiempo estimado:</label>
          <input type="text" id="tiempo" name="tiempo" required>
        </div>
        <div class="form-group">
          <label for="estado">Estado:</label>
          <select id="estado" name="estado" required>
            <option value="activa">Activa</option>
            <option value="inactiva">Inactiva</option>
          </select>
        </div>
        <div class="button-row">
          <button type="button" class="btn" onclick="cerrarModal()">Cancelar</button>
          <button type="submit" class="btn btn-primary">Guardar</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Funciones para manejar el modal de tarifas
    function abrirModal(accion = 'agregar', tarifa = null) {
      const modal = document.getElementById('tarifaModal');
      const modalTitle = document.getElementById('modalTitle');
      
      if (accion === 'agregar') {
        modalTitle.textContent = 'Agregar Nueva Tarifa/Ruta';
        document.getElementById('tarifaForm').reset();
      } else if (accion === 'editar' && tarifa) {
        modalTitle.textContent = 'Editar Tarifa/Ruta';
        // Aqu√≠ se llenar√≠an los campos con los datos existentes
        document.getElementById('ruta').value = tarifa.ruta;
        document.getElementById('tarifa').value = tarifa.tarifa;
        document.getElementById('tiempo').value = tarifa.tiempo;
        document.getElementById('estado').value = tarifa.estado;
      }
      
      modal.style.display = 'block';
    }
    
    function cerrarModal() {
      document.getElementById('tarifaModal').style.display = 'none';
    }
    
    // Evento para el bot√≥n de agregar tarifa
    document.getElementById('addTarifaBtn').addEventListener('click', function() {
      abrirModal('agregar');
    });
    
    // Evento para cerrar el modal al hacer clic en la "x"
    document.querySelector('.close').addEventListener('click', cerrarModal);
    
    // Evento para cerrar el modal al hacer clic fuera del contenido
    window.addEventListener('click', function(event) {
      const modal = document.getElementById('tarifaModal');
      if (event.target === modal) {
        cerrarModal();
      }
    });
    
    // Evento para el formulario de tarifas
    document.getElementById('tarifaForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Aqu√≠ se procesar√≠a el env√≠o del formulario
      const ruta = document.getElementById('ruta').value;
      const tarifa = document.getElementById('tarifa').value;
      
      alert(`Tarifa para "${ruta}" guardada correctamente: $${tarifa}`);
      cerrarModal();
    });
    
    // Funciones para acciones de la tabla
    function editarTarifa(elemento) {
      const fila = elemento.closest('tr');
      const celdas = fila.querySelectorAll('td');
      
      const tarifa = {
        ruta: celdas[0].textContent,
        tarifa: celdas[1].textContent.replace('$', ''),
        tiempo: celdas[2].textContent,
        estado: celdas[3].classList.contains('status-yes') ? 'activa' : 'inactiva'
      };
      
      abrirModal('editar', tarifa);
    }
    
    function eliminarTarifa(elemento) {
      if (confirm('¬øEst√° seguro de eliminar esta tarifa?')) {
        const fila = elemento.closest('tr');
        fila.remove();
        alert('Tarifa eliminada correctamente');
      }
    }
  </script>
</body>
</html>